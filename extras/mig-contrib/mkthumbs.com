$! MKTHUMBS.COM$!$! This procedure creates the directory [.thumbs] (if nonexistant) and$! generates thumbnails from either the current directory or the directory$! specified in P1.$! ImageMagick's Convert needs to be installed to create the thumbnails.$!$! 01-AUG-2002 / Roland Barmettler <roli@barmettler.net>$!$!$$ say          = "WRITE SYS$OUTPUT"$ convert      = "$SYS$SYSDEVICE:[PROGS.IM]CONVERT.EXE"$ thumb_dir    = "[.THUMBS]"$ thumb_height = 75$$! If we got a pathname in P1, go there. Otherweise we will work in the$! current directory.$$ IF P1 .NES. ""$ THEN$     SET DEFAULT 'P1'$ ENDIF$ SHOW DEFAULT$$$! check if 'thumb_dir' exists and create it if not$ thumb_dir_file = F$EXTRACT(F$LOCATE(".","''thumb_dir'")+1,F$LOCATE("]","''thumb_dir'")-2,"''thumb_dir'")$ thumb_dir_file = "''thumb_dir_file'" + ".DIR"$$ IF F$SEARCH("''thumb_dir_file'") .EQS. ""$ THEN$!    say """''thumb_dir'"" will be created."$     CREATE/DIRECTORY/LOG 'thumb_dir'$ ELSE$     say "All content of ""''thumb_dir'"" will be deleted:"$     DELETE/LOG 'thumb_dir'*.*;*$ ENDIF$$ PROCESS_LOOP:$     file = F$SEARCH("*.jpg")$     file = F$EXTRACT(F$LOCATE("]", "''file'")+1, 100, "''file'")$     IF "''file'" .EQS. "" THEN GOTO END_PROCESS$     say "Processing ''file' -> ''thumb_dir'''file'"$     convert -geometry x'thumb_height' 'file' 'thumb_dir''file'$ GOTO PROCESS_LOOP$$ END_PROCESS:$ say "Thumbnail generation complete."$$ EXIT